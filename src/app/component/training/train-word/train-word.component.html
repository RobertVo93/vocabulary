<div class="headerComponent" align="center">
    <mat-form-field>
        <mat-label>Dataset</mat-label>
        <mat-select [(value)]='selected' (selectionChange)='onChangeHandler($event)'>
            <mat-option *ngFor="let data of dataset" [value]="data.value">
                {{data.viewValue}}
            </mat-option>
        </mat-select>
    </mat-form-field>
</div>

<div class="leftBody" align="center">
    <label class="leftBodyTitle" i18n='@@leftBodyTitle'>Typing your word </label> <br/>

    <div class="training-word" *ngIf='trainingWord'>
        <div *ngIf='selectedTestMode == wordEnum.word;'>
            <label class='fs40'>{{trainingWord.meaning}}</label>
        </div>
        <div *ngIf='selectedTestMode == wordEnum.meaning;'>
            <label class='fs40'>{{trainingWord.word}}</label>
        </div>
        <div *ngIf='selectedTestMode == wordEnum.image;'>
            <img [attr.title]="trainingWord.meaning" src="assets/images/{{nextTrainingWord.pronun | lowercase}}.jpg" hidden="true" class="details-image" />
            <!-- <link rel="preload" href="assets/images/{{nextTrainingWord.pronun | lowercase}}.jpg" as="image" hidden="true" /> -->
            <img [attr.title]="trainingWord.meaning" src="assets/images/{{trainingWord.pronun | lowercase}}.jpg" class="details-image" />
        </div>
        <div *ngIf='selectedTestMode == wordEnum.kanji;'>
            <label class='fs40'>{{trainingWord.kanji}}</label>
        </div>
        <!-- <div *ngIf='selectedTestMode == wordEnum'>

        </div> -->
    </div>

    <mat-form-field class="example-full-width">
        <textarea matInput [ngClass]='inputColor' id="inputWordId" (keyup)='onKeyUpInput($event)' placeholder="Input word" [(ngModel)]='inputWord' i18n-placeholder="@@inputWord"></textarea>
    </mat-form-field>
    <!-- <mat-checkbox class="ml20" [(ngModel)]="isAutoNext"><label i18n='@@autoNext'>Auto Next</label></mat-checkbox> -->
    <br/>
    <button class="button-border" mat-button (click)='onMoveNextWord()'>Move next</button>
    <br/>
    <div class="displayArea" *ngIf='previousTrainingWord'>
        <div><strong>
            {{previousTrainingWord.word}} 
            ({{previousTrainingWord.type}}) 
            /{{previousTrainingWord.pronun}}/
            {{previousTrainingWord.meaning}}
            </strong>
        </div>
        <div>
            Kanji: <label class="fs40">{{previousTrainingWord.kanji}}</label>
            <label class="red">{{previousTrainingWord.chinaMeaning}}</label>
        </div>
        <div *ngIf='previousTrainingWord.example != ""'>
            <strong>Example: {{previousTrainingWord.example}}</strong>
            <div class="red">
                {{previousTrainingWord.title}}
            </div>
        </div>
        <img [attr.title]="trainingWord.meaning" src="assets/images/{{previousTrainingWord.pronun | lowercase}}.jpg" class="details-image row" />
        <button mat-button (click)="onShowMore();">{{showHideButtonName}}</button>
        <div class="kanji-explain" [hidden]="!isShowMore">
            <div [innerHTML]="previousTrainingWord.kanjiExplain"></div>
        </div>
    </div>

    <label class="chooseMode" i18n="@@chooseMode">Choose mode</label>:
    <mat-form-field>
        <mat-select [(value)]='selectedTestMode'>
            <mat-option *ngFor="let mode of testModes" [value]="mode.value">
                {{mode.viewValue}}
            </mat-option>
        </mat-select>
    </mat-form-field>
    <label class="chooseMode" i18n="@@position">Position</label>:
    <mat-form-field class="positionSelection">
        <mat-select [(value)]='selectedRanges' multiple (selectionChange)='onRangeChangeHandler($event)'>
            <mat-option *ngFor="let range of ranges" [value]="range.value">
                {{range.viewValue}}
            </mat-option>
        </mat-select>
    </mat-form-field>
</div>

<div class="rightBody" align="center">
    <label class="rightBodyTitle" i18n='@@rightBodyTitle'>All your stored words</label><br/>
    <label class="chooseModeView" i18n='@@chooseViewColumn'>Choose view column</label>:
    <mat-form-field>
        <mat-select [(value)]='selectedViewColumn' multiple (selectionChange)='onViewModeChangeHandler($event)'>
            <mat-option *ngFor="let mode of viewColumns" [value]="mode.value" [disabled]="mode.value == config.viewColumnsDef.word || mode.value == config.viewColumnsDef.meaning">
                {{mode.viewValue}}
            </mat-option>
        </mat-select>
    </mat-form-field>

    <div class="table-container">
        <mat-table [dataSource]="dataSource">
            <!-- word Column -->
            <ng-container matColumnDef="word">
                <mat-header-cell *matHeaderCellDef i18n="@@word"> Word </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.word}} </mat-cell>
                <mat-footer-cell *matFooterCellDef> <label i18n="@@trained">Trained</label> / <label i18n="@@total">Total</label> </mat-footer-cell>
            </ng-container>

            <!-- type Column -->
            <ng-container matColumnDef="type">
                <mat-header-cell *matHeaderCellDef i18n="@@type"> Type </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{config.wordType[element.type]}} </mat-cell>
                <mat-footer-cell *matFooterCellDef></mat-footer-cell>
            </ng-container>

            <!-- Pronunciation Column -->
            <ng-container matColumnDef="pronun">
                <mat-header-cell *matHeaderCellDef i18n="@@pronunciation"> Pronunciation </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.pronun}} </mat-cell>
                <mat-footer-cell *matFooterCellDef></mat-footer-cell>
            </ng-container>

            <!-- Kanji Column -->
            <ng-container matColumnDef="kanji">
                <mat-header-cell *matHeaderCellDef i18n="@@kanji"> Kanji </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.kanji}} </mat-cell>
                <mat-footer-cell *matFooterCellDef></mat-footer-cell>
            </ng-container>

            <!-- Chinese meaning Column -->
            <ng-container matColumnDef="chinaMeaning">
                <mat-header-cell *matHeaderCellDef i18n="@@chinese"> Chinese </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.chinaMeaning}} </mat-cell>
                <mat-footer-cell *matFooterCellDef></mat-footer-cell>
            </ng-container>

            <!-- Meaning Column -->
            <ng-container matColumnDef="meaning">
                <mat-header-cell *matHeaderCellDef i18n="@@meaning"> Meaning </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.meaning}} </mat-cell>
                <mat-footer-cell *matFooterCellDef> {{trainedNO}} / {{totalTraining}} </mat-footer-cell>
            </ng-container>

            <!-- Example Column -->
            <ng-container matColumnDef="example">
                <mat-header-cell *matHeaderCellDef i18n="@@example"> Example </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.example}} </mat-cell>
                <mat-footer-cell *matFooterCellDef></mat-footer-cell>
            </ng-container>

            <!-- Title Column -->
            <ng-container matColumnDef="title">
                <mat-header-cell *matHeaderCellDef i18n="@@title"> Title </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.title}} </mat-cell>
                <mat-footer-cell *matFooterCellDef></mat-footer-cell>
            </ng-container>

            <mat-header-row class="darkgray" *matHeaderRowDef="displayedColumns; sticky:true"></mat-header-row>
            <mat-row [ngClass]='row.rowColor' *matRowDef="let row; columns: displayedColumns;"></mat-row>
            <mat-footer-row class="darkgray" *matFooterRowDef="displayedColumns; sticky:true"></mat-footer-row>
        </mat-table>
    </div>
</div>